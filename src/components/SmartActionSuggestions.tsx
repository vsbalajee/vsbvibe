import React from 'react';
import { 
  Play, 
  Code, 
  TestTube, 
  MessageSquare, 
  Rocket, 
  FileText, 
  Settings, 
  Zap,
  CheckCircle,
  ArrowRight,
  Lightbulb,
  Database,
  Shield,
  Users,
  Calendar,
  CreditCard,
  Search,
  Bell,
  Globe,
  Smartphone,
  Layout,
  Palette,
  Lock,
  Mail,
  BarChart3,
  Filter,
  Tag,
  Heart,
  Share2,
  Download,
  Upload,
  Layers,
  Grid,
  List,
  Eye,
  Edit,
  Trash2,
  Plus,
  Minus,
  RefreshCw,
  Save,
  Copy,
  ExternalLink,
  Home,
  Star,
  Bookmark,
  Clock,
  MapPin,
  Phone,
  Image,
  Video,
  Music,
  File,
  Folder,
  Link,
  Hash,
  AtSign,
  DollarSign,
  Percent,
  TrendingUp,
  Activity,
  PieChart,
  LineChart,
  Target,
  Award,
  Gift,
  ShoppingBag,
  ShoppingCart,
  Package,
  Truck,
  CreditCard as PaymentIcon,
  Wallet,
  Receipt,
  Calculator,
  Calendar as CalendarIcon,
  Clock as TimeIcon,
  User,
  UserPlus,
  UserCheck,
  UserX,
  Users as UsersIcon,
  Crown,
  Key,
  Fingerprint,
  ShieldCheck,
  AlertTriangle,
  Info,
  HelpCircle,
  MessageCircle,
  Send,
  Inbox,
  Archive,
  Flag,
  Bookmark as BookmarkIcon,
  Tag as TagIcon,
  Filter as FilterIcon,
  SortAsc,
  SortDesc,
  Search as SearchIcon,
  Sliders,
  MoreHorizontal,
  MoreVertical,
  Menu,
  X,
  ChevronLeft,
  ChevronRight,
  ChevronUp,
  ChevronDown,
  ArrowLeft,
  ArrowUp,
  ArrowDown,
  Maximize,
  Minimize,
  Expand,
  Compress,
  RotateCcw,
  RotateCw,
  FlipHorizontal,
  FlipVertical,
  Move,
  MousePointer,
  Hand,
  Grab,
  Crosshair,
  Focus,
  Scan,
  QrCode,
  Wifi,
  WifiOff,
  Bluetooth,
  Radio,
  Signal,
  Battery,
  BatteryLow,
  Power,
  PowerOff,
  Volume,
  VolumeOff,
  Headphones,
  Mic,
  MicOff,
  Camera,
  CameraOff,
  Monitor,
  Tv,
  Tablet,
  Printer,
  Keyboard,
  Mouse,
  Gamepad2,
  Joystick,
  Headset,
  Speaker,
  Radio as RadioIcon,
  Rss,
  Podcast,
  Cast,
  Airplay,
  ChromeCast,
  Tv2,
  MonitorSpeaker,
  Projector,
  Webcam,
  ScanLine,
  Radar,
  Satellite,
  Antenna,
  Router,
  Server,
  HardDrive,
  Cpu,
  MemoryStick,
  Usb,
  Ethernet,
  Cable,
  Plug,
  Unplug,
  Zap as ZapIcon,
  Flash,
  Flashlight,
  Sun,
  Moon,
  Sunrise,
  Sunset,
  CloudRain,
  CloudSnow,
  CloudLightning,
  Wind,
  Thermometer,
  Droplets,
  Umbrella,
  TreePine,
  Flower,
  Leaf,
  Seedling,
  Apple,
  Cherry,
  Grape,
  Banana,
  Orange,
  Lemon,
  Strawberry,
  Carrot,
  Corn,
  Pizza,
  Coffee,
  Wine,
  Beer,
  IceCream,
  Cake,
  Cookie,
  Candy,
  Utensils,
  UtensilsCrossed,
  ChefHat,
  Soup,
  Salad,
  Sandwich,
  Croissant,
  Donut,
  Pretzel,
  Bagel,
  Bread,
  Egg,
  Milk,
  Cheese,
  Meat,
  Fish,
  Shrimp,
  Crab,
  Lobster,
  Chicken,
  Beef,
  Pork,
  Lamb,
  Turkey,
  Bacon,
  Ham,
  Sausage,
  Hotdog,
  Burger,
  Fries,
  Popcorn,
  Nuts,
  Honey,
  Jam,
  Butter,
  Oil,
  Salt,
  Pepper,
  Spice,
  Herb,
  Garlic,
  Onion,
  Tomato,
  Potato,
  Lettuce,
  Cucumber,
  Pepper as PepperIcon,
  Chili,
  Avocado,
  Broccoli,
  Cauliflower,
  Cabbage,
  Spinach,
  Kale,
  Celery,
  Asparagus,
  Mushroom,
  Eggplant,
  Zucchini,
  Pumpkin,
  Squash,
  Radish,
  Turnip,
  Beet,
  Parsnip,
  Leek,
  Scallion,
  Ginger,
  Turmeric,
  Cinnamon,
  Vanilla,
  Mint,
  Basil,
  Oregano,
  Thyme,
  Rosemary,
  Sage,
  Parsley,
  Cilantro,
  Dill,
  Chives,
  Tarragon,
  Bay,
  Cardamom,
  Clove,
  Nutmeg,
  Allspice,
  Paprika,
  Cumin,
  Coriander,
  Fennel,
  Anise,
  Caraway,
  Sesame,
  Poppy,
  Sunflower,
  Pumpkin as PumpkinIcon,
  Flax,
  Chia,
  Quinoa,
  Rice,
  Wheat,
  Barley,
  Oats,
  Rye,
  Millet,
  Buckwheat,
  Amaranth,
  Teff,
  Sorghum,
  Spelt,
  Kamut,
  Farro,
  Bulgur,
  Couscous,
  Pasta,
  Noodles,
  Ramen,
  Udon,
  Soba,
  Pho,
  Pad,
  Thai,
  Curry,
  Sushi,
  Sashimi,
  Tempura,
  Miso,
  Soy,
  Tofu,
  Edamame,
  Kimchi,
  Pickles,
  Olives,
  Capers,
  Anchovies,
  Sardines,
  Tuna,
  Salmon,
  Cod,
  Halibut,
  Mahi,
  Snapper,
  Bass,
  Trout,
  Catfish,
  Tilapia,
  Flounder,
  Sole,
  Mackerel,
  Herring,
  Pilchard,
  Sprat,
  Whitebait,
  Smelt,
  Eel,
  Octopus,
  Squid,
  Clam,
  Mussel,
  Oyster,
  Scallop,
  Abalone,
  Conch,
  Whelk,
  Periwinkle,
  Cockle,
  Razor,
  Geoduck,
  Urchin,
  Cucumber as SeaCucumber,
  Anemone,
  Coral,
  Sponge,
  Kelp,
  Seaweed,
  Algae,
  Plankton,
  Krill,
  Jellyfish,
  Starfish,
  Seahorse,
  Dolphin,
  Whale,
  Shark,
  Ray,
  Turtle,
  Seal,
  Walrus,
  Penguin,
  Albatross,
  Pelican,
  Seagull,
  Tern,
  Puffin,
  Cormorant,
  Gannet,
  Frigatebird,
  Booby,
  Tropicbird,
  Petrel,
  Shearwater,
  Storm,
  Skua,
  Jaeger,
  Gull,
  Kittiwake,
  Murre,
  Guillemot,
  Razorbill,
  Auk,
  Dovekie,
  Sandpiper,
  Plover,
  Turnstone,
  Knot,
  Dunlin,
  Sanderling,
  Stint,
  Curlew,
  Godwit,
  Dowitcher,
  Snipe,
  Woodcock,
  Phalarope,
  Avocet,
  Stilt,
  Oystercatcher,
  Lapwing,
  Killdeer,
  Yellowlegs,
  Tattler,
  Surfbird,
  Whimbrel,
  Marbled,
  Ruddy,
  Black,
  Hudsonian,
  Bar,
  Stilt as StiltIcon,
  American,
  Least,
  Semipalmated,
  Western,
  Baird,
  White,
  Buff,
  Pectoral,
  Purple,
  Rock,
  Red,
  Spotted,
  Solitary,
  Wandering,
  Gray,
  Wilson,
  Red as RedIcon,
  Northern,
  Tricolored,
  Little,
  Snowy,
  Cattle,
  Green,
  Black as BlackIcon,
  Yellow,
  Night,
  Least as LeastIcon,
  American as AmericanIcon,
  Great,
  Blue,
  Heron,
  Egret,
  Bittern,
  Ibis,
  Spoonbill,
  Stork,
  Flamingo,
  Swan,
  Goose,
  Duck,
  Teal,
  Wigeon,
  Pintail,
  Shoveler,
  Gadwall,
  Mallard,
  Canvasback,
  Redhead,
  Ring,
  Lesser,
  Greater,
  Common,
  Barrow,
  Goldeneye,
  Bufflehead,
  Ruddy as RuddyIcon,
  Merganser,
  Hooded,
  Red as RedIconDuck,
  Breasted,
  Scoter,
  Surf,
  White as WhiteIcon,
  Winged,
  Long,
  Tailed,
  Oldsquaw,
  Harlequin,
  Eider,
  King,
  Spectacled,
  Steller,
  Wood,
  Mandarin,
  Egyptian,
  Shelduck,
  Tadorna,
  Casarca,
  Brahminy,
  Paradise,
  Ruddy as RuddyIconShelduck,
  Australian,
  New,
  Zealand,
  Cape,
  South,
  African,
  Crested,
  Radjah,
  Orinoco,
  Andean,
  Upland,
  Ashy,
  Headed,
  Kelp as KelpIcon,
  Magellan,
  Flying,
  Steamer,
  Falkland,
  Chubut,
  White as WhiteIconSteamer,
  Headed as HeadedIcon,
  Flightless,
  Fuegian,
  Torrent,
  Brazilian,
  Merganser as MerganserIcon,
  Auckland,
  Campbell,
  Brown,
  Teal as TealIcon,
  Chestnut,
  Breasted as BreastedIcon,
  Grey,
  Teal as TealIconGrey,
  Pink,
  Eared,
  Duck as DuckIcon,
  Freckled,
  Duck as DuckIconFreckled,
  Hottentot,
  Teal as TealIconHottentot,
  Red as RedIconBilled,
  Billed,
  Teal as TealIconBilled,
  Cape as CapeIcon,
  Teal as TealIconCape,
  Bernier,
  Teal as TealIconBernier,
  Madagascar,
  Teal as TealIconMadagascar,
  Laysan,
  Duck as DuckIconLaysan,
  Hawaiian,
  Duck as DuckIconHawaiian,
  Meller,
  Duck as DuckIconMeller,
  Yellow as YellowIcon,
  Billed as BilledIcon,
  Duck as DuckIconYellow,
  Spot,
  Billed as BilledIconSpot,
  Duck as DuckIconSpot,
  Philippine,
  Duck as DuckIconPhilippine,
  Pacific,
  Black as BlackIconPacific,
  Duck as DuckIconPacific,
  American as AmericanIconBlack,
  Black as BlackIconAmerican,
  Duck as DuckIconAmerican,
  Mottled,
  Duck as DuckIconMottled,
  Mexican,
  Duck as DuckIconMexican,
  Florida,
  Mottled as MottledIcon,
} from 'lucide-react';

interface ActionSuggestion {
  id: string;
  text: string;
  action: string;
  icon: React.ReactNode;
  type: 'primary' | 'secondary';
  context?: string;
  category?: 'implementation' | 'planning' | 'enhancement' | 'testing' | 'deployment';
  priority?: number;
}

interface SmartActionSuggestionsProps {
  suggestions: ActionSuggestion[];
  onActionClick: (action: string, context?: string) => void;
  className?: string;
}

export function SmartActionSuggestions({ 
  suggestions, 
  onActionClick, 
  className = '' 
}: SmartActionSuggestionsProps) {
  if (!suggestions || suggestions.length === 0) {
    return null;
  }

  // Sort suggestions by priority and type
  const sortedSuggestions = [...suggestions].sort((a, b) => {
    // Primary suggestions first
    if (a.type !== b.type) {
      return a.type === 'primary' ? -1 : 1;
    }
    // Then by priority (higher priority first)
    const aPriority = a.priority || 0;
    const bPriority = b.priority || 0;
    return bPriority - aPriority;
  });

  return (
    <div className={`mt-6 ${className}`}>
      <div className="mb-2">
        <span className="text-xs text-gray-400 font-medium">Suggested next steps:</span>
      </div>
      <div className="flex flex-wrap gap-2">
        {sortedSuggestions.slice(0, 4).map((suggestion) => (
          <button
            key={suggestion.id}
            onClick={() => onActionClick(suggestion.action, suggestion.context)}
            className={`inline-flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 hover:shadow-md ${
              suggestion.type === 'primary'
                ? 'bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl'
                : 'bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 border border-gray-600/50 hover:border-gray-500 backdrop-blur-sm'
            }`}
            title={suggestion.context || suggestion.text}
          >
            {suggestion.icon}
            <span>{suggestion.text}</span>
            {suggestion.category && (
              <span className="text-xs opacity-60 ml-1">
                ({suggestion.category})
              </span>
            )}
          </button>
        ))}
      </div>
      {suggestions.length > 4 && (
        <div className="mt-2 text-center">
          <button className="text-xs text-gray-500 hover:text-gray-400 transition-colors">
            +{suggestions.length - 4} more suggestions
          </button>
        </div>
      )}
    </div>
  );
}

// Hook for generating contextual suggestions
export function useSmartSuggestions() {
  const generateSuggestions = (
    userPrompt: string,
    aiResponse: string,
    currentMode: 'discuss' | 'generate' | 'test' | 'docs',
    projectContext?: any,
    selectedTemplate?: string
  ): ActionSuggestion[] => {
    const suggestions: ActionSuggestion[] = [];
    const lowerPrompt = userPrompt.toLowerCase();
    const lowerResponse = aiResponse.toLowerCase();

    // Template-specific suggestions for Generate mode
    if (currentMode === 'generate' && selectedTemplate) {
      return generateTemplateSpecificSuggestions(selectedTemplate, userPrompt, aiResponse);
    }

    // Enhanced suggestions for Discuss mode
    if (currentMode === 'discuss') {
      // Architecture and planning suggestions
      if (lowerPrompt.includes('architecture') || lowerPrompt.includes('structure') || 
          lowerPrompt.includes('organize') || lowerResponse.includes('structure')) {
        suggestions.push({
          id: 'generate-architecture',
          text: 'Generate the architecture',
          action: 'switch_to_generate',
          icon: <Code className="h-3 w-3" />,
          type: 'primary',
          context: 'Create the discussed architecture structure',
          category: 'implementation',
          priority: 10
        });
      }

      // Component discussion to generation
      if (lowerPrompt.includes('component') || lowerPrompt.includes('react') || 
          lowerPrompt.includes('vue') || lowerResponse.includes('component')) {
        suggestions.push({
          id: 'create-component',
          text: 'Create this component',
          action: 'switch_to_generate',
          icon: <Code className="h-3 w-3" />,
          type: 'primary',
          context: 'Generate the discussed component',
          category: 'implementation',
          priority: 9
        });
      }

      // API discussion to generation
      if (lowerPrompt.includes('api') || lowerPrompt.includes('endpoint') || 
          lowerPrompt.includes('backend') || lowerResponse.includes('api')) {
        suggestions.push({
          id: 'create-api',
          text: 'Build the API',
          action: 'switch_to_generate',
          icon: <Code className="h-3 w-3" />,
          type: 'primary',
          context: 'Create the discussed API endpoints',
          category: 'implementation',
          priority: 8
        });
      }

      // Database discussion
      if (lowerPrompt.includes('database') || lowerPrompt.includes('schema') || 
          lowerPrompt.includes('model') || lowerResponse.includes('database')) {
        suggestions.push({
          id: 'design-schema',
          text: 'Design database schema',
          action: 'switch_to_generate',
          icon: <Database className="h-3 w-3" />,
          type: 'primary',
          context: 'Generate database schema and models',
          category: 'implementation',
          priority: 7
        });
      }

      // Testing discussion
      if (lowerPrompt.includes('test') || lowerPrompt.includes('testing') || 
          lowerResponse.includes('test')) {
        suggestions.push({
          id: 'create-tests',
          text: 'Write tests',
          action: 'switch_to_generate',
          icon: <TestTube className="h-3 w-3" />,
          type: 'secondary',
          context: 'Generate test cases for the discussed functionality',
          category: 'testing',
          priority: 6
        });
      }

      // Documentation discussion
      if (lowerPrompt.includes('document') || lowerPrompt.includes('readme') || 
          lowerResponse.includes('document')) {
        suggestions.push({
          id: 'write-docs',
          text: 'Write documentation',
          action: 'switch_to_docs',
          icon: <FileText className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 5
        });
      }

      // Performance discussion
      if (lowerPrompt.includes('performance') || lowerPrompt.includes('optimize') || 
          lowerPrompt.includes('slow') || lowerResponse.includes('performance')) {
        suggestions.push({
          id: 'analyze-performance',
          text: 'Analyze performance',
          action: 'switch_to_test',
          icon: <Zap className="h-3 w-3" />,
          type: 'secondary',
          category: 'testing',
          priority: 6
        });
      }

      // Security discussion
      if (lowerPrompt.includes('security') || lowerPrompt.includes('auth') || 
          lowerPrompt.includes('secure') || lowerResponse.includes('security')) {
        suggestions.push({
          id: 'security-review',
          text: 'Security review',
          action: 'switch_to_test',
          icon: <ShieldCheck className="h-3 w-3" />,
          type: 'secondary',
          category: 'testing',
          priority: 7
        });
      }

      // General implementation suggestion
      if (suggestions.length === 0 && (lowerPrompt.includes('how') || lowerPrompt.includes('implement'))) {
        suggestions.push({
          id: 'implement-solution',
          text: 'Implement this solution',
          action: 'switch_to_generate',
          icon: <Code className="h-3 w-3" />,
          type: 'primary',
          context: userPrompt,
          category: 'implementation',
          priority: 8
        });
      }

      // Add discussion starters for empty conversations
      if (suggestions.length === 0 && !lowerPrompt && currentMode === 'discuss') {
        suggestions.push({
          id: 'architecture-help',
          text: 'Help with architecture',
          action: 'continue_discussion',
          icon: <Lightbulb className="h-3 w-3" />,
          type: 'secondary',
          context: 'How should I structure my application architecture?',
          category: 'planning',
          priority: 5
        });
        suggestions.push({
          id: 'best-practices',
          text: 'Best practices advice',
          action: 'continue_discussion',
          icon: <CheckCircle className="h-3 w-3" />,
          type: 'secondary',
          context: 'What are the best practices for this technology stack?',
          category: 'planning',
          priority: 4
        });
      }
    }

    // Deployment-related suggestions
    if (lowerPrompt.includes('deploy') || lowerResponse.includes('deploy') || 
        lowerPrompt.includes('netlify') || lowerResponse.includes('netlify')) {
      suggestions.push({
        id: 'deploy-netlify',
        text: 'Deploy to Netlify',
        action: 'deploy_to_netlify',
        icon: <Rocket className="h-3 w-3" />,
        type: 'primary',
        category: 'deployment',
        priority: 9
      });
      
      if (lowerResponse.includes('test') || lowerResponse.includes('verify')) {
        suggestions.push({
          id: 'test-features',
          text: 'Test AI features',
          action: 'test_ai_features',
          icon: <TestTube className="h-3 w-3" />,
          type: 'secondary',
          category: 'testing',
          priority: 6
        });
      }
    }

    // Code generation suggestions
    if (lowerPrompt.includes('create') || lowerPrompt.includes('add') || 
        lowerPrompt.includes('implement') || lowerPrompt.includes('build')) {
      if (currentMode === 'discuss') {
        suggestions.push({
          id: 'generate-code',
          text: 'Generate & Apply Code',
          action: 'generate_code_auto',
          icon: <Code className="h-3 w-3" />,
          type: 'primary',
          context: userPrompt,
          category: 'implementation',
          priority: 9
        });
        
        suggestions.push({
          id: 'generate-code-manual',
          text: 'Generate Code (Review First)',
          action: 'generate_code_manual',
          icon: <Code className="h-3 w-3" />,
          type: 'secondary',
          context: userPrompt,
          category: 'implementation',
          priority: 8
        });
      }
    }

    // Documentation suggestions
    if (lowerPrompt.includes('document') || lowerPrompt.includes('readme') || 
        lowerPrompt.includes('comment') || lowerResponse.includes('documentation')) {
      suggestions.push({
        id: 'generate-docs',
        text: 'Generate documentation',
        action: 'generate_documentation',
        icon: <FileText className="h-3 w-3" />,
        type: 'primary',
        category: 'enhancement',
        priority: 6
      });
    }

    // Testing suggestions
    if (lowerPrompt.includes('test') || lowerPrompt.includes('review') || 
        lowerPrompt.includes('analyze') || lowerPrompt.includes('check')) {
      if (currentMode !== 'test') {
        suggestions.push({
          id: 'run-tests',
          text: 'Analyze code quality',
          action: 'switch_to_test',
          icon: <TestTube className="h-3 w-3" />,
          type: 'primary',
          category: 'testing',
          priority: 7
        });
      }
    }

    // Performance optimization suggestions
    if (lowerPrompt.includes('performance') || lowerPrompt.includes('optimize') || 
        lowerPrompt.includes('slow') || lowerResponse.includes('optimization')) {
      suggestions.push({
        id: 'optimize-performance',
        text: 'Optimize performance',
        action: 'analyze_performance',
        icon: <Zap className="h-3 w-3" />,
        type: 'secondary',
        category: 'enhancement',
        priority: 6
      });
    }

    // Error fixing suggestions
    if (lowerPrompt.includes('error') || lowerPrompt.includes('fix') || 
        lowerPrompt.includes('bug') || lowerResponse.includes('solution')) {
      suggestions.push({
        id: 'apply-fix',
        text: 'Apply the fix',
        action: 'apply_suggested_fix',
        icon: <CheckCircle className="h-3 w-3" />,
        type: 'primary',
        category: 'implementation',
        priority: 10
      });
    }

    // Setup and configuration suggestions
    if (lowerPrompt.includes('setup') || lowerPrompt.includes('configure') || 
        lowerPrompt.includes('install') || lowerResponse.includes('configuration')) {
      suggestions.push({
        id: 'configure-project',
        text: 'Configure project',
        action: 'configure_project',
        icon: <Settings className="h-3 w-3" />,
        type: 'secondary',
        category: 'planning',
        priority: 5
      });
    }

    // General next steps
    if (suggestions.length === 0) {
      // Default suggestions based on current mode
      if (currentMode === 'discuss') {
        suggestions.push({
          id: 'ask-follow-up',
          text: 'Ask a follow-up question',
          action: 'continue_discussion',
          icon: <MessageSquare className="h-3 w-3" />,
          type: 'secondary',
          category: 'planning',
          priority: 3
        });
        suggestions.push({
          id: 'implement-idea',
          text: 'Implement this idea',
          action: 'switch_to_generate',
          icon: <Code className="h-3 w-3" />,
          type: 'secondary',
          context: userPrompt,
          category: 'implementation',
          priority: 4
        });
      } else if (currentMode === 'generate') {
        suggestions.push({
          id: 'test-generated-code',
          text: 'Test generated code',
          action: 'switch_to_test',
          icon: <TestTube className="h-3 w-3" />,
          type: 'secondary',
          category: 'testing',
          priority: 5
        });
      }
    }

    // Always add a "What's next?" suggestion if we have room
    if (suggestions.length < 2) {
      suggestions.push({
        id: 'whats-next',
        text: "What's next?",
        action: 'suggest_next_steps',
        icon: <Lightbulb className="h-3 w-3" />,
        type: 'secondary',
        category: 'planning',
        priority: 2
      });
    }

    return suggestions;
  };

  // Generate template-specific suggestions
  const generateTemplateSpecificSuggestions = (
    templateName: string,
    userPrompt: string,
    aiResponse: string
  ): ActionSuggestion[] => {
    // Safety check
    if (!templateName) return [];
    
    const suggestions: ActionSuggestion[] = [];
    const lowerTemplate = templateName.toLowerCase();
    const lowerPrompt = (userPrompt || '').toLowerCase();
    const lowerResponse = (aiResponse || '').toLowerCase();

    // For initial project setup (when no user prompt yet)
    if (!userPrompt && !aiResponse) {
      // Add template-specific getting started suggestions
      if (lowerTemplate.includes('landing') || lowerTemplate.includes('one-page')) {
        suggestions.push({
          id: 'create-hero-section',
          text: 'Create hero section',
          action: 'create_hero_section',
          icon: <Layout className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 10,
          context: 'Add a compelling hero section with headline, subheadline, and call-to-action button'
        });
        suggestions.push({
          id: 'customize-design',
          text: 'Customize design',
          action: 'customize_design',
          icon: <Palette className="h-3 w-3" />,
          type: 'primary',
          category: 'enhancement',
          priority: 9,
          context: 'Customize colors, fonts, and overall visual design'
        });
      }
      
      if (lowerTemplate.includes('ecommerce') || lowerTemplate.includes('store')) {
        suggestions.push({
          id: 'setup-products',
          text: 'Set up products',
          action: 'setup_product_catalog',
          icon: <Package className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 10,
          context: 'Create product listings with images, descriptions, and pricing'
        });
      }
      
      // Always add these for new projects
      suggestions.push({
        id: 'explore-features',
        text: 'Explore features',
        action: 'continue_discussion',
        icon: <Lightbulb className="h-3 w-3" />,
        type: 'secondary',
        category: 'planning',
        priority: 5,
        context: 'What features would you like to add to this project?'
      });
      
      return suggestions;
    }

    // Template-specific suggestions based on project type and context
    if (lowerTemplate.includes('landing') || lowerTemplate.includes('one-page')) {
      // Landing Page specific suggestions
      if (!lowerPrompt.includes('hero') && !lowerResponse.includes('hero')) {
        suggestions.push({
          id: 'create-hero-section',
          text: 'Create hero section',
          action: 'create_hero_section',
          icon: <Layout className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 10,
          context: 'Add a compelling hero section with headline, subheadline, and call-to-action button'
        });
      }
      
      if (!lowerPrompt.includes('contact') && !lowerResponse.includes('contact')) {
        suggestions.push({
          id: 'add-contact-form',
          text: 'Add contact form',
          action: 'add_contact_form',
          icon: <Mail className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 9,
          context: 'Create a contact form with name, email, message fields and form validation'
        });
      }
      
      suggestions.push(
        {
          id: 'add-cta-buttons',
          text: 'Add call-to-action',
          action: 'add_cta_buttons',
          icon: <MousePointer className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 8,
          context: 'Add prominent call-to-action buttons throughout the page'
        },
        {
          id: 'add-testimonials',
          text: 'Add testimonials',
          action: 'add_testimonials_section',
          icon: <Star className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 7,
          context: 'Create a testimonials section to build trust and credibility'
        }
      );
    }
    // Website Clone specific suggestions
    if (lowerTemplate.includes('clone')) {
      suggestions.push(
        {
          id: 'customize-design',
          text: 'Customize design',
          action: 'customize_cloned_design',
          icon: <Palette className="h-3 w-3" />,
          type: 'primary',
          category: 'enhancement',
          priority: 9,
          context: 'Modify colors, fonts, and layout of the cloned website'
        },
        {
          id: 'add-interactivity',
          text: 'Add interactivity',
          action: 'add_interactive_features',
          icon: <MousePointer className="h-3 w-3" />,
          type: 'primary',
          category: 'enhancement',
          priority: 8,
          context: 'Add animations, hover effects, and interactive elements'
        },
        {
          id: 'make-responsive',
          text: 'Make responsive',
          action: 'optimize_responsive_design',
          icon: <Smartphone className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 7,
          context: 'Ensure the website works perfectly on all devices'
        }
      );
    }

    // E-commerce specific suggestions
    if (lowerTemplate.includes('ecommerce') || lowerTemplate.includes('store')) {
      suggestions.push(
        {
          id: 'create-product-catalog',
          text: 'Create product catalog',
          action: 'create_product_catalog',
          icon: <Package className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 10,
          context: 'Set up product listings with images, descriptions, and pricing'
        },
        {
          id: 'implement-shopping-cart',
          text: 'Implement shopping cart',
          action: 'implement_shopping_cart',
          icon: <ShoppingCart className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 9,
          context: 'Add shopping cart with add/remove items, quantity updates, and cart persistence'
        },
        {
          id: 'integrate-payments',
          text: 'Integrate payments',
          action: 'integrate_payment_system',
          icon: <CreditCard className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 8,
          context: 'Set up Stripe payment processing for secure checkout'
        },
        {
          id: 'add-product-search',
          text: 'Add product search',
          action: 'implement_product_search',
          icon: <Search className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 7,
          context: 'Implement search and filtering functionality for products'
        }
      );
    }

    // Booking system specific suggestions
    if (lowerTemplate.includes('booking') || lowerTemplate.includes('appointment')) {
      suggestions.push(
        {
          id: 'setup-calendar',
          text: 'Setup calendar system',
          action: 'create_calendar_system',
          icon: <Calendar className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 10,
          context: 'Create calendar interface for booking appointments'
        },
        {
          id: 'user-authentication',
          text: 'Add user accounts',
          action: 'implement_user_auth',
          icon: <User className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 9,
          context: 'Allow users to create accounts and manage bookings'
        },
        {
          id: 'notifications',
          text: 'Setup notifications',
          action: 'implement_notifications',
          icon: <Bell className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 7,
          context: 'Send email/SMS reminders for appointments'
        }
      );
    }

    // Dashboard/Admin Panel specific suggestions
    if (lowerTemplate.includes('dashboard') || lowerTemplate.includes('admin')) {
      suggestions.push(
        {
          id: 'create-charts',
          text: 'Add data visualization',
          action: 'implement_charts_graphs',
          icon: <BarChart className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 9,
          context: 'Create charts and graphs for data visualization'
        },
        {
          id: 'user-management',
          text: 'User management',
          action: 'create_user_management',
          icon: <Users className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 8,
          context: 'Add user roles, permissions, and management features'
        },
        {
          id: 'data-tables',
          text: 'Interactive data tables',
          action: 'implement_data_tables',
          icon: <Grid className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 7,
          context: 'Create sortable, filterable data tables'
        }
      );
    }

    // Forum/Community specific suggestions
    if (lowerTemplate.includes('forum') || lowerTemplate.includes('community')) {
      suggestions.push(
        {
          id: 'post-system',
          text: 'Create post system',
          action: 'implement_post_system',
          icon: <MessageSquare className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 10,
          context: 'Allow users to create, edit, and delete posts'
        },
        {
          id: 'voting-system',
          text: 'Add voting/rating',
          action: 'implement_voting_system',
          icon: <Heart className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 8,
          context: 'Let users upvote/downvote posts and comments'
        },
        {
          id: 'moderation-tools',
          text: 'Moderation tools',
          action: 'create_moderation_system',
          icon: <ShieldCheck className="h-3 w-3" />,
          type: 'secondary',
          category: 'implementation',
          priority: 7,
          context: 'Add reporting, flagging, and moderation features'
        }
      );
    }

    // Blog/Content specific suggestions
    if (lowerTemplate.includes('blog') || lowerTemplate.includes('content')) {
      suggestions.push(
        {
          id: 'create-blog-posts',
          text: 'Create blog posts',
          action: 'create_blog_posts',
          icon: <FileText className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 10,
          context: 'Set up blog post creation and display functionality'
        },
        {
          id: 'implement-cms',
          text: 'Add content management',
          action: 'implement_cms',
          icon: <Edit className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 9,
          context: 'Create admin interface for creating, editing, and managing blog posts'
        },
        {
          id: 'add-categories-tags',
          text: 'Add categories & tags',
          action: 'implement_categories_tags',
          icon: <Tag className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 8,
          context: 'Organize content with categories and tags for better navigation'
        },
        {
          id: 'optimize-seo',
          text: 'Optimize for SEO',
          action: 'optimize_seo',
          icon: <Search className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 7,
          context: 'Implement SEO best practices with meta tags, structured data, and sitemaps'
        }
      );
    }

    // Portfolio specific suggestions
    if (lowerTemplate.includes('portfolio')) {
      suggestions.push(
        {
          id: 'create-project-gallery',
          text: 'Create project gallery',
          action: 'create_project_gallery',
          icon: <Image className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 9,
          context: 'Build an interactive gallery showcasing your best projects with descriptions'
        },
        {
          id: 'add-about-section',
          text: 'Add about section',
          action: 'create_about_section',
          icon: <User className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 8,
          context: 'Create an about section highlighting your skills and experience'
        },
        {
          id: 'implement-contact-form',
          text: 'Add contact form',
          action: 'implement_contact_form',
          icon: <Mail className="h-3 w-3" />,
          type: 'secondary',
          category: 'implementation',
          priority: 7,
          context: 'Add a professional contact form for potential clients'
        },
        {
          id: 'add-resume-download',
          text: 'Add resume download',
          action: 'create_resume_section',
          icon: <Download className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 6,
          context: 'Add downloadable resume/CV and skills showcase section'
        }
      );
    }

    // Landing page specific suggestions
    if (lowerTemplate.includes('landing')) {
      suggestions.push(
        {
          id: 'hero-optimization',
          text: 'Optimize hero section',
          action: 'optimize_hero_section',
          icon: <Layout className="h-3 w-3" />,
          type: 'primary',
          category: 'enhancement',
          priority: 9,
          context: 'Create compelling hero section with clear call-to-action'
        },
        {
          id: 'lead-capture',
          text: 'Lead capture form',
          action: 'implement_lead_capture',
          icon: <Mail className="h-3 w-3" />,
          type: 'primary',
          category: 'implementation',
          priority: 8,
          context: 'Add email signup form with newsletter integration'
        },
        {
          id: 'analytics-tracking',
          text: 'Analytics tracking',
          action: 'setup_analytics',
          icon: <BarChart className="h-3 w-3" />,
          type: 'secondary',
          category: 'enhancement',
          priority: 6,
          context: 'Add Google Analytics and conversion tracking'
        }
      );
    }

    // Add common suggestions for all templates
    suggestions.push(
      {
        id: 'test-functionality',
        text: 'Test functionality',
        action: 'switch_to_test',
        icon: <TestTube className="h-3 w-3" />,
        type: 'secondary',
        category: 'testing',
        priority: 5,
        context: 'Run tests to ensure everything works correctly'
      },
      {
        id: 'deploy-project',
        text: 'Deploy project',
        action: 'deploy_to_netlify',
        icon: <Rocket className="h-3 w-3" />,
        type: 'secondary',
        category: 'deployment',
        priority: 4,
        context: 'Deploy your project to make it live on the internet'
      }
    );

    return suggestions;
  };

  return { generateSuggestions };
}